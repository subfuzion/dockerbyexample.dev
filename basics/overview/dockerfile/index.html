<!doctype html><html lang=en class=no-js><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=generator content="Hugo 0.85.0"><meta name=ROBOTS content="INDEX, FOLLOW"><link rel="shortcut icon" href=/favicons/favicon.ico><link rel=apple-touch-icon href=/favicons/apple-touch-icon-180x180.png sizes=180x180><link rel=icon type=image/png href=/favicons/favicon-16x16.png sizes=16x16><link rel=icon type=image/png href=/favicons/favicon-32x32.png sizes=32x32><link rel=icon type=image/png href=/favicons/android-36x36.png sizes=36x36><link rel=icon type=image/png href=/favicons/android-48x48.png sizes=48x48><link rel=icon type=image/png href=/favicons/android-72x72.png sizes=72x72><link rel=icon type=image/png href=/favicons/android-96x96.png sizes=96x96><link rel=icon type=image/png href=/favicons/android-144x144.png sizes=144x144><link rel=icon type=image/png href=/favicons/android-192x192.png sizes=192x192><title>Dockerfile intro | Docker by Example</title><meta name=description content="Learn Docker by Example"><meta property="og:title" content="Dockerfile intro"><meta property="og:description" content="A Dockerfile is a text file that contains instructions for building an image that defines the runtime environment for each container launched using that image.
In the upcoming examples, you will be introduced to the following instructions:
 FROM COPY ENTRYPOINT and CMD  FROM
The FROM instruction is used to declare the base image for the new image. This makes it possible to compose images from other existing images that daisy chain the dependencies your app might require, such as:"><meta property="og:type" content="article"><meta property="og:url" content="/basics/overview/dockerfile/"><meta property="article:section" content="basics"><meta property="og:site_name" content="Docker by Example"><meta itemprop=name content="Dockerfile intro"><meta itemprop=description content="A Dockerfile is a text file that contains instructions for building an image that defines the runtime environment for each container launched using that image.
In the upcoming examples, you will be introduced to the following instructions:
 FROM COPY ENTRYPOINT and CMD  FROM
The FROM instruction is used to declare the base image for the new image. This makes it possible to compose images from other existing images that daisy chain the dependencies your app might require, such as:"><meta itemprop=wordCount content="318"><meta itemprop=keywords content><meta name=twitter:card content="summary"><meta name=twitter:title content="Dockerfile intro"><meta name=twitter:description content="A Dockerfile is a text file that contains instructions for building an image that defines the runtime environment for each container launched using that image.
In the upcoming examples, you will be introduced to the following instructions:
 FROM COPY ENTRYPOINT and CMD  FROM
The FROM instruction is used to declare the base image for the new image. This makes it possible to compose images from other existing images that daisy chain the dependencies your app might require, such as:"><link rel=preload href=/scss/main.min.3383b4566c7deb0afd964b6908212a9f4cf306ffb99d356ccfdbe24494b0920f.css as=style><link href=/scss/main.min.3383b4566c7deb0afd964b6908212a9f4cf306ffb99d356ccfdbe24494b0920f.css rel=stylesheet integrity><script src=https://code.jquery.com/jquery-3.5.1.min.js integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin=anonymous></script><link rel=stylesheet href=/css/prism.css><style>.pageinfo{margin:2rem 2rem 2rem 0}.border-top{border-top:0 solid #dee2e6!important}hr{height:4px;background-color:rgba(37,152,237,5%)!important;border:none}.td-navbar{background:#f8f9fa}.td-content .highlight{margin:0;margin-bottom:2rem}</style><script type=application/javascript>var doNotTrack=!1;doNotTrack||(window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)},ga.l=+new Date,ga('create','UA-00000000-0','auto'),ga('send','pageview'))</script><script async src=https://www.google-analytics.com/analytics.js></script></head><body class=td-page><header><nav class="js-navbar-scroll navbar navbar-expand navbar-light flex-column flex-md-row td-navbar"><a class=navbar-brand href=/><span class=navbar-logo><svg version="1.0" xmlns="http://www.w3.org/2000/svg" width="64pt" height="64pt" viewBox="0 0 64 64"><g transform="translate(0.000000,64.000000) scale(0.012500,-0.012500)" fill="#000" stroke="none"><path d="M2177 4799c-43-25-47-53-47-349v-280h-606c-396 0-612-4-625-10-45-25-49-52-49-350v-280H564c-176 0-293-4-305-10-45-25-49-52-49-350v-280h-76c-71 0-77-2-106-31l-31-30 6-187c15-506 161-905 436-1195 242-254 563-407 976-462 176-24 559-17 757 14 869 135 1636 631 2108 1363l75 116 48 6c119 16 306 94 430 178 77 53 187 157 242 230 37 49 45 68 45 103 0 53-23 84-93 124-130 74-301 123-473 136l-92 7-12 42c-32 107-132 258-232 351-136 126-203 131-277 22-110-162-164-412-132-611 11-64 10-79-4-105-20-40-63-61-125-61h-50v275c0 293-4 320-49 345-12 6-129 10-305 10h-286v6e2c0 643 0 643-49 670-26 14-740 13-764-1zm593-419v-210h-210-210v210 210h210 210v-210zm-1280-640v-210h-210-210v210 210h210 210v-210zm640 0v-210h-210-210v210 210h210 210v-210zm640 0v-210h-210-210v210 210h210 210v-210zM850 31e2v-210H640 430v210 210h210 210v-210zm640 0v-210h-210-210v210 210h210 210v-210zm640 0v-210h-210-210v210 210h210 210v-210zm640 0v-210h-210-210v210 210h210 210v-210zm640 0v-210h-210-210v210 210h210 210v-210zm-2245-882c132-70 142-264 17-352-131-93-321 9-322 173-1 151 169 250 305 179z"/></g></svg></span><span class="text-uppercase font-weight-bold">Docker by Example</span></a><div class="td-navbar-nav-scroll ml-md-auto" id=main_navbar><ul class="navbar-nav mt-2 mt-lg-0"></ul></div><div class="navbar-nav d-none d-lg-block"><input type=search class="form-control td-search-input" placeholder="&#xf002; Search this site…" aria-label="Search this site…" autocomplete=off></div></nav></header><div class="container-fluid td-outer"><div class=td-main><div class="row flex-xl-nowrap"><aside class="col-12 col-md-3 col-xl-2 td-sidebar d-print-none"><div id=td-sidebar-menu class=td-sidebar__inner><div id=content-mobile><form class="td-sidebar__search d-flex align-items-center"><input type=search class="form-control td-search-input" placeholder="&#xf002; Search this site…" aria-label="Search this site…" autocomplete=off>
<button class="btn btn-link td-sidebar__toggle d-md-none p-0 ml-3 fas fa-bars" type=button data-toggle=collapse data-target=#td-section-nav aria-controls=td-docs-nav aria-expanded=false aria-label="Toggle section navigation"></button></form></div><div id=content-desktop></div><nav class="collapse td-sidebar-nav" id=td-section-nav><ul class="td-sidebar-nav__section pr-md-3 ul-0"><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child active-path" id=m--li><a href=/ title="Docker by Example" class="align-left pl-0 td-sidebar-link td-sidebar-link__section tree-root" id=m-><span>Introduction</span></a><ul class=ul-1><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-getting-started-li><a href=/getting-started/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-getting-started><span>Getting Started</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child active-path" id=m-basics-li><a href=/basics/ class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id=m-basics><span>Dockerfile basics</span></a><ul class="ul-2 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child active-path" id=m-basicsoverview-li><a href=/basics/overview/ class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id=m-basicsoverview><span>Overview</span></a><ul class="ul-3 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child active-path" id=m-basicsoverviewdockerfile-li><a href=/basics/overview/dockerfile/ class="align-left pl-0 active td-sidebar-link td-sidebar-link__page" id=m-basicsoverviewdockerfile><span class=td-sidebar-nav-active-item>Dockerfile intro</span></a></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-basicshelloworld-li><a href=/basics/helloworld/ class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id=m-basicshelloworld><span>Hello World</span></a><ul class="ul-3 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-basicshelloworldthe_script-li><a href=/basics/helloworld/the_script/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-basicshelloworldthe_script><span>The shell script</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-basicshelloworldthe_dockerfile-li><a href=/basics/helloworld/the_dockerfile/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-basicshelloworldthe_dockerfile><span>The Dockerfile</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-basicshelloworldrun_container-li><a href=/basics/helloworld/run_container/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-basicshelloworldrun_container><span>Run a container</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-basicshelloworldsummary-li><a href=/basics/helloworld/summary/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-basicshelloworldsummary><span>Summary</span></a></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-basicstime-li><a href=/basics/time/ class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id=m-basicstime><span>Time</span></a><ul class="ul-3 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-basicstimedockerfile_cmd-li><a href=/basics/time/dockerfile_cmd/ title="Dockerfile with CMD" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-basicstimedockerfile_cmd><span>Using CMD</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-basicstimedockerfile_entrypoint-li><a href=/basics/time/dockerfile_entrypoint/ title="Dockerfile with ENTRYPOINT" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-basicstimedockerfile_entrypoint><span>Using ENTRYPOINT</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-basicstimedockerfile_both-li><a href=/basics/time/dockerfile_both/ title="Dockerfile with both" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-basicstimedockerfile_both><span>Combining both!</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-basicstimesummary-li><a href=/basics/time/summary/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-basicstimesummary><span>Summary</span></a></li></ul></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-server-li><a href=/server/ class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id=m-server><span>Servers</span></a></li></ul></li></ul></nav></div></aside><main class="col-12 col-md-9 col-xl-8 pl-md-5" role=main><div class=td-content><h1>Dockerfile intro</h1><header class=article-meta></header><p>A <a href=https://docs.docker.com/engine/reference/builder/>Dockerfile</a> is a text file
that contains instructions for building an image that defines the runtime
environment for each container launched using that image.</p><p>In the upcoming examples, you will be introduced to the following
instructions:</p><ul><li><a href=https://docs.docker.com/engine/reference/builder/#from>FROM</a></li><li><a href=https://docs.docker.com/engine/reference/builder/#copy>COPY</a></li><li><a href=https://docs.docker.com/engine/reference/builder/#entrypoint>ENTRYPOINT</a> and
<a href=https://docs.docker.com/engine/reference/builder/#cmd>CMD</a></li></ul><p><code>FROM</code></p><p>The <code>FROM</code> instruction is used to declare the base image for the new image. This
makes it possible to compose images from other existing images that
daisy chain the dependencies your app might require, such as:</p><ul><li>A language runtime, such as Node.js, that depends on another base image like</li><li>A Linux distribution, such as Ubuntu.</li></ul><p><code>COPY</code></p><p>Normally what distinguishes your image from its base image are the files that
you add to it. You might be building an image intended to be used as a more
specialized base image for yet another image, or you might be building an image
for a program that you&rsquo;ve created and want to deploy.</p><p>Either way, you can will normally use the <code>COPY</code> instruction to copy files from
your host system into the image.</p><div class="pageinfo pageinfo-primary"><p>🏆 <strong>Best practice</strong></p><p>There is also an <code>ADD</code> instruction that is similar, but we won&rsquo;t be covering it
since using
<code>COPY</code> is preferred. See this
<a href=https://docs.docker.com/develop/develop-images/dockerfile_best-practices/#add-or-copy>best practices section</a>
to learn more.</p></div><p><code>ENTRYPOINT</code> and <code>CMD</code></p><p>These instructions are used to specify the command that should be run when a
container is launched, along with any default options. There are differences
between the effect of using the two instructions, and there are reasons why
it is often ideal to use them together.</p><p>The <a href=../helloworld>helloworld</a> example will introduce <code>ENTRYPOINT</code>, and the
<a href=../time>time</a> example will expand and clarify both the <code>ENTRYPOINT</code> and
<code>CMD</code> instructions when used separately and together.</p><div class="pageinfo pageinfo-primary"><p>🤓 <strong>Nerd note</strong></p><p>Keep in mind, of course, that if you&rsquo;re building an image that you intend to be
used as a specialized base image for other images, it&rsquo;s perfectly normal not to
set either an <code>ENTRYPOINT</code> or a <code>CMD</code>.</p></div><style>.feedback--answer{display:inline-block}.feedback--answer-no{margin-left:1em}.feedback--response{display:none;margin-top:1em}.feedback--response__visible{display:block}</style><div class=d-print-none><hr class=panel-line><h2 class=feedback--title>Feedback</h2><p class=feedback--question>Was this page helpful?</p><button class="btn btn-primary mb-4 feedback--answer feedback--answer-yes">Yes</button>
<button class="btn btn-primary mb-4 feedback--answer feedback--answer-no">No</button><p class="feedback--response feedback--response-yes">Glad to hear it! Please <a href=https://github.com/subfuzion/dockerbyexample.dev/issues/new>tell us how we can improve</a>.</p><p class="feedback--response feedback--response-no">Sorry to hear that. Please <a href=https://github.com/subfuzion/dockerbyexample.dev/issues/new>tell us how we can improve</a>.</p></div><script>const yesButton=document.querySelector('.feedback--answer-yes'),noButton=document.querySelector('.feedback--answer-no'),yesResponse=document.querySelector('.feedback--response-yes'),noResponse=document.querySelector('.feedback--response-no'),disableButtons=()=>{yesButton.disabled=!0,noButton.disabled=!0},sendFeedback=b=>{if(typeof ga!='function')return;const a={command:'send',hitType:'event',category:'Helpful',action:'click',label:window.location.pathname,value:b};ga(a.command,a.hitType,a.category,a.action,a.label,a.value)};yesButton.addEventListener('click',()=>{yesResponse.classList.add('feedback--response__visible'),disableButtons(),sendFeedback(1)}),noButton.addEventListener('click',()=>{noResponse.classList.add('feedback--response__visible'),disableButtons(),sendFeedback(0)})</script><br><div class="text-muted mt-5 pt-3 border-top"></div></div></main></div></div><footer class="bg-secondary py-5 row d-print-none"><div class="container-fluid mx-sm-5"><div class=row><div class="col-8 text-left"><small class=text-muted>&copy; 2021 <a href=https://twitter.com/tonypujals target=_blank rel=noopener>Tony Pujals</a>. All Rights Reserved.</small></div><div class="col-4 text-right"><ul class="list-inline mb-0"><li class="list-inline-item mx-2 h3" data-toggle=tooltip data-placement=top title=Twitter aria-label=Twitter><a class=text-muted target=_blank rel=noopener href=https://twitter.com/tonypujals aria-label=Twitter><i class="fab fa-twitter"></i></a></li><li class="list-inline-item mx-2 h3" data-toggle=tooltip data-placement=top title=GitHub aria-label=GitHub><a class=text-muted target=_blank rel=noopener href=https://github.com/subfuzion/dockerbyexample.dev aria-label=GitHub><i class="fab fa-github"></i></a></li></ul></div></div></div></footer></div><script src=https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js integrity=sha384-9/reFTGAW83EW2RDu2S0VKaIzap3H66lZH81PoYlFhbGU+6BZp6G7niu735Sk7lN crossorigin=anonymous></script><script src=https://cdn.jsdelivr.net/npm/bootstrap@4.6.0/dist/js/bootstrap.min.js integrity=sha384-+YQ4JLhjyBLPDQt//I+STsc9iw4uQqACwlvpslubQzn4u2UU2UFM80nGisd026JF crossorigin=anonymous></script><script src=/js/main.min.5c74b870c6953931a705f390a49c7e4c0a842ec5c83b24354758dd674343ed0d.js integrity="sha256-XHS4cMaVOTGnBfOQpJx+TAqELsXIOyQ1R1jdZ0ND7Q0=" crossorigin=anonymous></script><script src=/js/prism.js></script></body></html>